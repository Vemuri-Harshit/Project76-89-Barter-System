{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\dell\\\\OneDrive\\\\Documents\\\\harshit\\\\Coding\\\\White hat junior downloads\\\\React\\\\Project76-89-Barter-System\\\\screens\\\\DonateScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { ListItem } from 'react-native-elements';\nimport firebase from 'firebase';\nimport db from \"../config\";\nimport MyHeader from \"../components/MyHeader\";\n\nvar DonateScreen = function (_Component) {\n  _inherits(DonateScreen, _Component);\n\n  var _super = _createSuper(DonateScreen);\n\n  function DonateScreen() {\n    var _this;\n\n    _classCallCheck(this, DonateScreen);\n\n    _this = _super.call(this);\n\n    _this.getAllRequests = function () {\n      _this.requestRef = db.collection('requested_items').onSnapshot(function (snapshot) {\n        var allRequests = snapshot.docs.map(function (document) {\n          return document.data();\n        });\n\n        _this.setState({\n          allRequests: allRequests\n        });\n      });\n    };\n\n    _this.keyExtractor = function (item, index) {\n      return index.toString();\n    };\n\n    _this.renderItem = function (_ref) {\n      var item = _ref.item,\n          i = _ref.i;\n      return React.createElement(ListItem, {\n        key: i,\n        title: item.item_name,\n        subtitle: item.reason,\n        titleStyle: {\n          color: 'black',\n          fontWeight: 'bold'\n        },\n        rightElement: React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            _this.props.navigation.navigate('RecieverDetails', {\n              \"details\": item\n            });\n\n            console.log(item);\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 139\n          }\n        }, React.createElement(Text, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 259\n          }\n        }, \"Donate\")),\n        bottomDivider: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.state = {\n      allRequests: []\n    };\n    _this.requestRef = null;\n    return _this;\n  }\n\n  _createClass(DonateScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAllRequests();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.requestRef();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }\n      }, React.createElement(MyHeader, {\n        title: \"Donate Books\",\n        navigation: this.props.navigation,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      }, this.state.allRequests.length === 0 ? React.createElement(Text, {\n        style: {\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 20\n        }\n      }, \"List Of All Requested Books\") : React.createElement(FlatList, {\n        keyExtractor: this.keyExtractor,\n        data: this.state.allRequests,\n        renderItem: this.renderItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 20\n        }\n      })));\n    }\n  }]);\n\n  return DonateScreen;\n}(Component);\n\nexport { DonateScreen as default };","map":{"version":3,"sources":["C:/Users/dell/OneDrive/Documents/harshit/Coding/White hat junior downloads/React/Project76-89-Barter-System/screens/DonateScreen.js"],"names":["React","Component","ListItem","firebase","db","MyHeader","DonateScreen","getAllRequests","requestRef","collection","onSnapshot","snapshot","allRequests","docs","map","document","data","setState","keyExtractor","item","index","toString","renderItem","i","item_name","reason","color","fontWeight","props","navigation","navigate","console","log","state","flex","length","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { View, StyleSheet, Text, FlatList,TouchableOpacity,Image } from 'react-native';\r\nimport { ListItem } from 'react-native-elements'\r\nimport firebase from 'firebase';\r\nimport db from '../config'\r\nimport MyHeader from '../components/MyHeader';\r\n\r\nexport default class DonateScreen extends Component{\r\n     constructor(){\r\n        super()\r\n         this.state={\r\n            allRequests : []      \r\n         }\r\n         this.requestRef = null\r\n     }\r\n\r\n     getAllRequests=()=>{\r\n         this.requestRef = db.collection('requested_items')\r\n         .onSnapshot((snapshot)=>{\r\n             var allRequests =snapshot.docs.map(document => document.data())\r\n             this.setState({allRequests: allRequests})\r\n         })\r\n     }\r\n\r\n    keyExtractor = (item,index) => index.toString()\r\n    \r\n    renderItem=({item,i})=>{\r\n     return(<ListItem key={i} title={item.item_name} subtitle={item.reason} titleStyle={{color:'black', fontWeight:'bold'}} rightElement={<TouchableOpacity onPress={()=>{this.props.navigation.navigate('RecieverDetails',{\"details\":item}); console.log(item)}}><Text>Donate</Text></TouchableOpacity>} bottomDivider /> )                                                      \r\n    }\r\n    componentDidMount(){\r\n        this.getAllRequests()\r\n      }\r\n    \r\n      componentWillUnmount(){\r\n        this.requestRef();\r\n      }\r\n\r\n      render(){\r\n        return(\r\n          <View style={{flex:1}}>\r\n            <MyHeader title=\"Donate Books\"  navigation ={this.props.navigation}/>\r\n            <View style={{flex:1}}>\r\n              {\r\n                this.state.allRequests.length === 0\r\n\r\n                ?( <Text style={{ fontSize: 20}}>List Of All Requested Books</Text>  )\r\n                :( <FlatList keyExtractor={this.keyExtractor} data={this.state.allRequests} renderItem={this.renderItem}/> )       \r\n              }\r\n            </View>\r\n          </View>\r\n        )\r\n      }\r\n    }\r\n\r\n "]},"metadata":{},"sourceType":"module"}